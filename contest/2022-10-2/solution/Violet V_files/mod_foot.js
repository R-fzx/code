qing.registNS("qmod.topbar"),qmod.topbar.ListenerMgr=function(){var e=function(e){qui.showLogin({}),qing.event.stop(e)},t=function(e){qing.event.stop(e);var t=qing.dom.query(".q-game-frame",this);t[0].style.display="block";var n=qing.dom.query("iframe",t[0])[0];if(n.src=="http://youxi.baidu.com/yxpm/pm.jsp?pid=10106000091_1008223")return;n.src="http://youxi.baidu.com/yxpm/pm.jsp?pid=10106000091_1008223"},n=function(e){qing.event.stop(e);var t=qing.dom.query(".q-game-frame",this);t[0].style.display="none"},r={click:{"q-goto-login":e},mouseover:{"q-menu-item-game":t},mouseout:{"q-menu-item-game":n}},i=function(){qext.fn.addEventMap(document.body,["click","mouseover","mouseout"],r)};return{run:i}}(),qmod.topbar.Main=function(){var e=function(){qext.FontDetect.detect(["\u5fae\u8f6f\u96c5\u9ed1","Microsoft Yahei","\u5fae\u8f6f\u96c5\u9ed1"],function(e){var t=qing.dom.query("html")[0];e?qing.dom.addClass(t,"mod-with-msyahei"):qing.dom.addClass(t,"mod-without-msyahei")})},t=function(){qing.dom.ready(function(){wpo.dom=new Date*1}),qing.on(window,"load",function(){var e=wpo.load=new Date*1;setTimeout(function(){var t=["pid="+wpo.pid,"head="+(wpo.head-wpo.start),"tti="+(wpo.tti-wpo.start),"dom="+(wpo.dom-wpo.start),"load="+(wpo.load-wpo.start),"page="+wpo.page,"r="+e],n="wpo_"+e,r=window[n]=new Image;r.onload=r.onerror=function(){window[n]=null},r.src="http://nsclick.baidu.com/v.gif?type=2009&fn=wpo&"+t.join("&"),r=null},0)})},n=function(){qing.dom.ready(function(){e(),qmod.topbar.ListenerMgr.run(),t()})};return{init:n}}(),qmod.topbar.Main.init(),qing.registNS("qui.functions"),qui.functions={isIE:qing.browser.ie!=undefined,isIE6:qing.browser.ie!=undefined&&qing.browser.ie<7},qui.isIE=qui.functions.isIE,qui.isIE6=qui.functions.isIE6,qing.registNS("qui"),qui.Event=qing.lang.createClass(function(e){this.observable=e,this.listeners=[]}).extend({isEvent:!0,addListener:function(e,t){var n=this,t=t||n.observable;n.isListening(e,t)||(listener={fn:e,scope:t,ev:n},n.firing&&(n.listeners=n.listeners.slice(0)),n.listeners.push(listener))},findListener:function(e,t){var n=this.listeners,r=n.length,i,s;while(r--){i=n[r];if(i){s=i.scope;if(i.fn==e&&(s==t||s==this.observable))return r}}return-1},isListening:function(e,t){return this.findListener(e,t)!==-1},removeListener:function(e,t){var n=this,r,i,s;return r=n.findListener(e,t),r!=-1?(i=n.listeners[r],n.firing&&(n.listeners=n.listeners.slice(0)),qing.array.removeAt(n.listeners,r),!0):!1},clearListeners:function(){var e=this.listeners,t=e.length;while(t--)this.removeListener(e[t].fn,e[t].scope)},fire:function(){var e=this,t=e.listeners,n=t.length,r,i,s;if(n>0){e.firing=!0;for(r=0;r<n;r++){s=t[r],i=arguments.length?Array.prototype.slice.call(arguments,0):[];if(s&&s.fn.apply(s.scope||e.observable,i)===!1)return e.firing=!1}}return e.firing=!1,!0}}),qing.registNS("qui"),qui.Observable=qing.lang.createClass(function(){var e=this;e.events={}}).extend({fireEvent:function(){var e=this,t=arguments.length?Array.prototype.slice.call(arguments,0):[],n=t[0].toLowerCase(),r=!0,i=e.events[n];return i&&i!==!0&&(t.shift(),r=i.fire.apply(i,t)),r},addListener:function(e,t,n){var r=this,i;if(typeof e!="string")return;e=e.toLowerCase(),i=r.events[e]=r.events[e]||!0,qing.lang.isBoolean(i)&&(r.events[e]=i=new qui.Event(r,e)),i.addListener(t,n)},removeListener:function(e,t,n){var r=this,i;if(typeof e!="string")return;e=e.toLowerCase(),i=r.events[e],i&&i.isEvent&&i.removeListener(t,n)},clearListeners:function(){var e=this.events,t,n;for(n in e)e.hasOwnProperty(n)&&(t=e[n],t.isEvent&&t.clearListeners())},addEvents:function(e){var t=this,n,r;t.events=t.events||{};if(qing.lang.isString(e)){n=arguments,r=n.length;while(r--)t.events[n[r]]=t.events[n[r]]||!0}},hasListener:function(e){var t=this.events[e.toLowerCase()];return t&&t.isEvent===!0&&t.listeners.length>0}}),qing.registNS("qui"),qui.Layer=qing.lang.createClass(function(e){e=e||{},this.dom=null,this.entity=null,this._ifm=null,this.isShow=!1,this._events=[],this.tmpBodyOverflow=qing.dom.getStyle(document.body,"overflow");var t={width:0,height:0,x:0,y:0,isFixed:!1,id:"",entityID:"",contentID:"",template:e.template,templateString:"",container:e.container,nodes:{}};this.getProperty=function(){return t};var n=t.id="_"+qing.getUniqueId();t.entityID=n+"_entity",t.contentID=n+"_content",e.template&&this.setTemplate(t.template)},{superClass:qui.Observable}).extend({_init:function(){this.addEvents("beforeshow","show","beforeclose","close","beforedestroy","destroy")},_on:function(e,t,n,r){r?n=qing.fn.bind(n,r):n=qing.fn.bind(n,this),qing.on(e,t,n),this._events.push([e,t,n])},_un:function(e,t,n){qing.event.un(e,t,n),qing.array.remove(this._events,[e,t,n])},_removeAllListener:function(){var e=this._events;for(var t=e.length-1;t>=0;t--){var n=e[t];qing.event.un(n[0],n[1],n[2]),e.pop()}},destroy:function(){var e=this;e.fireEvent("beforedestroy",e),e._removeAllListener(),e.dom.parentNode&&e.dom.parentNode.removeChild(e.dom),e.entity=null,e._ifm&&(e._ifm=null),e.fireEvent("destroy",e)},close:function(){var e=this;e.fireEvent("beforeclose",e),e.hide(),e.destroy(),qui.Layer.closeTipOnblur&&T.event.un(document.body,"click",qui.Layer.closeTipOnblur);if(this.bgShow){var t=this.bgShow;T.dom.hide(t)}qui.isIE6&&(document.body.style.overflow=e.tmpBodyOverflow),e.fireEvent("close",e)},setTemplate:function(e){var t=this.getProperty(),n=/[^\{\}]+(?=\})/g;t.template=e,t.templateString=e.match(n),this.dom&&(this.dom.parentNode.removeChild(this.dom),this.dom=null),this.dom=qing.dom.create("div"),this.dom.innerHTML=baidu.format(t.template,this.getNodes("id")),document.body.appendChild(this.dom);if(!qing.g(t.entityID))throw new Error("[Error from layer.js] there missing #{entityID} or #{contentID} in layer template");qing.setStyles(this.dom,{position:"absolute",zIndex:"1024",left:t.x+"px",top:t.y+"px"}),t.nodes=this.getNodes(),this.entity=t.nodes.entity,qing.setStyles(this.entity,{position:"absolute",zIndex:"1024",left:"0px",top:"0px"}),t.width=parseInt(this.entity.style.width),this._addIframe(),t.container&&t.container.appendChild(this.dom),this.hide()},getNodes:function(e){var t=this.getProperty(),n=e||"dom",r={},i=t.templateString;if(i)for(var s=0,o=i.length;s<o;s++){var u=i[s];switch(n){case"dom":r[u]=qing.g(t.id+"_"+u);break;case"id":r[u]=t.id+"_"+u}}return r},_addIframe:function(){var e=this._ifm=qing.dom.create("iframe");qing.setStyles(e,{position:"absolute",zIndex:"1024",left:0,top:0,border:0}),this.dom.insertBefore(e,this.entity),qing.setStyle(e,"opacity",0)},hide:function(){qing.setStyles(this.dom,{left:"-10000px",top:"-10000px"}),this.isShow=!1,qing.dom.setAttr(document.body,"data-layershow",0);if(this.bgShow){var e=this.bgShow;T.dom.hide(e)}qui.isIE6&&(document.body.style.overflow=this.tmpBodyOverflow)},setSize:function(e){var t=this.getProperty();e=e||{},e.width&&(t.nodes.entity.style.width=e.width+"px",t.width=e.width),e.height&&(t.nodes.entity.style.height=e.height+"px",t.height=e.height),this._updateIfmSize()},setPosition:function(e){var t=this.getProperty();e=e||{},e.left&&(this.dom.style.left=e.left+"px",t.x=e.left),e.top&&(this.dom.style.top=e.top+"px",t.y=e.top)},getWidth:function(){var e=this.entity.style.display,t=this.entity.style.visibility,n;return this.entity.style.visibility="hidden",this.entity.style.display="",n=this.entity.offsetWidth,this.entity.style.display=e,this.entity.style.visibility=t,n},getHeight:function(){var e=this.entity.style.display,t=this.entity.style.visibility,n;return this.entity.style.visibility="hidden",this.entity.style.display="",n=this.entity.offsetHeight,this.entity.style.display=e,this.entity.style.visibility=t,n},getX:function(){return parseInt(this.dom.style.left)},getY:function(){return parseInt(this.dom.style.top)},_updateIfmSize:function(){this._ifm&&qing.setStyles(this._ifm,{width:this.entity.offsetWidth+"px",height:this.entity.offsetHeight+"px"})},show:function(e){var t=this,n=t.getProperty();t.fireEvent("beforeshow",t),qing.setStyles(t.dom,{left:n.x+"px",top:n.y+"px"}),t._ifm&&t._updateIfmSize(),t.isShow=!0,qing.dom.setAttr(document.body,"data-layershow",1),t.fireEvent("show",t);var r=!1;if(e){e.isAutoHide?r=!0:r=!1;if(e.isShowBg){var i=T.dom.create("div",{style:"position:absolute;z-index:1020;top:0;left:0;width:100%;height:"+document.body.offsetHeight+"px"});document.body.appendChild(i),t.bgShow=i}}e&&!e.isAutoHide&&!e.isShowBg&&(r=!0),t.isScrollHideWhenShow&&qui.isIE6,!r&&!t.isPanelAutoClose&&(qui.Layer.closeTipOnblur=function(e){var n=e.target||e.srcElement;if(n&&n!=t.dom&&T.dom.contains(t.dom,n))return;t.close()},setTimeout(function(){T.event.on(document.body,"click",qui.Layer.closeTipOnblur)},0))},setContentEl:function(e){if(e){var t=this.getProperty();qing.dom.empty(t.nodes.content),t.nodes.content.appendChild(qing.g(e))}},setContent:function(e){if(e&&qing.lang.isString(e)){var t=this.getProperty();t.nodes.content.innerHTML=e}},setZIndex:function(e){this.dom.style.zIndex=e},center:function(e){e=e||{};var t=this;viewWidth=qing.page.getViewWidth(),viewHeight=qing.page.getViewHeight(),layerWidth=t.entity.offsetWidth,layerHeight=t.entity.offsetHeight,x=viewWidth>layerWidth?.5*(viewWidth-layerWidth):0,y=viewHeight>layerHeight?.5*(viewHeight-layerHeight):0,opt={},opt.left=e.left||x+(window.pageXOffset?window.pageXOffset:window.document.documentElement.scrollLeft),opt.top=e.top||y+(window.pageYOffset?window.pageYOffset:window.document.documentElement.scrollTop),t.setPosition(opt)}}),qing.registNS("qui"),qui.Mask=qing.lang.createClass(function(e){e=qing.extend({opacity:.4},e);var t=this.getProperty(),n='<div id="#{entity}" style="position:absolute;left:0px;top:0px;zIndex:1024;background:#000;width:'+qing.page.getWidth()+"px;height:"+qing.page.getHeight()+'px"></div>';t.opacity=isNaN(e.opacity)?.4:e.opacity,this.isScrollHideWhenShow=e.isScrollHideWhenShow||!0,this.isPanelAutoClose=e.isScrollHideWhenShow||!0,this.setTemplate(n),this.setOpacity(t.opacity),this.entity.style.position="fixed",this._on(window,"resize",function(){if(this.entity){var e=this;setTimeout(function(){e.updateSize()},1)}},this),this.hide()},{superClass:qui.Layer}).extend({setOpacity:function(e){if(isNaN(e))return;var t=this.getProperty();t.opacity=e,qui.isIE?this.entity.style.filter="alpha(opacity="+e*100+")":this.entity.style.opacity=e},updateSize:function(){if(!this.isShow)return;this.hide();var e=qing.page.getWidth(),t=qing.page.getHeight();this.entity.style.width=e+"px",this.entity.style.height=t+"px",this.ifm&&(this.ifm.style.width=e+"px",this.ifm.style.height=t+"px"),this.show()}}),qing.registNS("qui.dialog"),qui.dialog.Dialog=qing.lang.createClass(function(e){e=qing.extend({width:400,height:300,draggable:!0,modal:!0,opacity:0,change:[0,0]},e),e.hasTitle=e.hasTitle===!1?!1:!0,e.width=parseInt(e.width),e.height=parseInt(e.height),e.width<410&&(e.change[0]=410-e.width,e.width=410),e.height<70&&(e.change[1]=70-e.height,e.height=70),this.draggable=!1,this._dragInstance=null,e.modal&&(this.mask=new qui.Mask({opacity:e.opacity}));var t="";e.hasTitle&&(t=['<div id="#{titlebar}" class="x-dialog-titlebar">','<span id="#{title}"></span>',"</div>"].join(""));var n=e.containerClass||"";n&&(n=[" ",n].join(""));var r=['<div class="x-dialog',n,'" id="#{entity}">','<div id="#{shadow}" ></div>','<div id="#{box}" class="x-dialog-box">',t,'<a id="#{closeBtn}" href="#" onclick="return false;" class="x-dialog-closebtn"></a>','<div id="#{contentBox}" class="x-dialog-content-box">','<div id="#{content}" class="x-dialog-content"></div>','<div id="#{btnPanel}" class="x-dialog-btnPanel"></div>',"</div>","</div>","</div>"].join("");this.setTemplate(r);var i=this.getProperty(),s=parseInt(e.width),o=parseInt(e.height);qing.setStyles(i.nodes.content,{width:s-e.change[0]+"px",height:o-e.change[1]+"px",paddingTop:e.change[1]/2+"px",paddingBottom:e.change[1]/2+"px",paddingLeft:e.change[0]/2+"px",paddingRight:e.change[0]/2+"px"}),e.hasTitle&&qing.lang.isString(e.title)&&this.setTitle(e.title),e.contentEl?this.setContentEl(e.contentEl):e.content&&this.setContent(e.content),e.buttons?this._addButton(e.buttons):i.nodes.btnPanel.style.display="none",e.contentBoxStyle&&qing.setStyles(i.nodes.contentBox,e.contentBoxStyle),e.contentStyle&&qing.setStyles(i.nodes.contentBox,e.contentStyle),qing.setStyles(i.nodes.contentBox,{width:i.nodes.content.offsetWidth+"px"}),qing.setStyles(i.nodes.box,{width:i.nodes.contentBox.offsetWidth+"px"});var u=5,a=i.nodes.box.offsetWidth+2*u,f=i.nodes.box.offsetHeight+2*u;qing.setStyles(i.nodes.shadow,{width:a+"px",height:f+"px"}),this.setDraggable(!!e.draggable,e.hasTitle);if(e.listeners)for(var l in e.listeners){var c=e.listeners[l];this.addListener(l,c.fn,c.scope||this)}e.showCloseBtn!==!1?this._on(i.nodes.closeBtn,"click",this.close,this):i.nodes.closeBtn.style.display="none",this._init()},{superClass:qui.Layer}).extend({_init:function(){this.addEvents("beforedrag","dragstart","drag","afterdrag"),this.addListener("show",function(){this.mask&&this.mask.show(),this.center()}),this.addListener("hide",function(){this.mask&&this.mask.hide()}),this.addListener("destroy",function(){this.mask&&this.mask.destroy()})},setDraggable:function(e,t){var n=this,r=n.getProperty();if(baidu.lang.isBoolean(e))if(e){if(n.draggable)return;t&&(n._dragInstance=qing.dom.draggable(n.dom,{handler:r.nodes.titlebar,onbeforedragstart:function(){n.fireEvent("beforedrag",n)},ondragstart:function(){n.fireEvent("dragstart",n)},ondrag:function(){n.fireEvent("drag",n)},ondragend:function(){n.fireEvent("afterdrag",n)}}),qing.dom.addClass(r.nodes.titlebar,"x-cursor-move")),n.draggable=!0}else n.draggable&&(n._dragInstance.cancel(),n._dragInstance=null,t&&qing.dom.removeClass(r.nodes.titlebar,"x-cursor-move"),n.draggable=!1)},setTitle:function(e){var t=this.getProperty();t.nodes.title.innerHTML=e},_addButton:function(e){var t=this,n=[];qing.array.each(e,function(e){var t="green"==e.type?"btn-s btn-12":"btn-g btn-12";n.push('<a href="#" onclick="return false;" class="x-dialog-btn '+t+'">'+e.text+"</a>")});var r=this.getProperty();r.nodes.btnPanel.innerHTML=n.join("");var i=r.nodes.btnPanel.getElementsByTagName("a");qing.array.each(e,function(e,n){e.handler&&qing.lang.isFunction(e.handler)&&t._on(i[n],"click",e.handler,e.scope)})}}),qing.registNS("qui.dialog"),qui.dialog.Message=qing.lang.createClass(function(e){e=qing.extend({opacity:0},e),e.modal&&(this.mask=new qui.Mask({opacity:e.opacity})),e.type=e.type||"normal";var t="icon-ok-32";switch(e.type){case"alert":t="icon-alert-32";break;case"forbidden":t="icon-forbidden-32";break;case"error":t="icon-error-32";break;case"alert-blue":t="icon-alert-blue-32";break;case"help":t="icon-help-32"}var n=['<div class="x-dialog" id="#{entity}">','<div id="#{shadow}" class="x-dialog-shadow"></div>','<div id="#{box}" class="x-dialog-box x-dialog-tip">','<div id="#{contentBox}" class="x-dialog-content-box yahei '+t+'">','<div id="#{content}" class="x-dialog-tip-content"></div>',"</div>","</div>","</div>"].join("");this.setTemplate(n),this.setContent(e.msg);var r=this.getProperty(),i=5;qing.lang.isNumber(e.width)&&qing.setStyle(r.nodes.content,"width",e.width+"px"),qing.lang.isNumber(e.height)&&qing.setStyle(r.nodes.content,"height",e.height+"px"),qing.setStyles(r.nodes.box,{width:r.nodes.contentBox.offsetWidth+"px",height:r.nodes.contentBox.offsetHeight+"px"}),qing.setStyles(r.nodes.shadow,{width:i*2+r.nodes.box.offsetWidth+"px",height:i*2+r.nodes.box.offsetHeight+"px"}),this._init()},{superClass:qui.Layer}).extend({_init:function(){this.addListener("show",function(){this.mask&&this.mask.show()}),this.addListener("hide",function(){this.mask&&this.mask.hide()}),this.addListener("destroy",function(){this.mask&&this.mask.destroy()})},setContent:function(e){if(e&&qing.lang.isString(e)){var t=this.getProperty();t.nodes.content.innerHTML=e}}}),qing.registNS("qui.dialog"),qui.dialog.DialogManager={_getAppropriateSize:function(e,t){var n=qing.dom.create("div",{className:"yahei"}),r={overflow:!1};return qing.setStyles(n,{position:"absolute",left:"-10000px",top:"-10000px"}),n.innerHTML=e,document.body.appendChild(n),n.offsetWidth>t&&(qing.dom.addClass(n,"x-word-wrap"),n.style.width="600px",r.overflow=!0),r.width=n.offsetWidth+10,r.height=n.offsetHeight,document.body.removeChild(n),n=null,r},alert:function(e,t){t=t||{};var n={overflow:!1},r=250,i=20,s=600,o={title:qing.lang.isString(t.title)?t.title:"\u63d0\u793a",opacity:.2,width:t.width||r,height:t.height||i,showCloseBtn:t.showCloseBtn,content:e,buttons:t.buttons||[{text:"\u786e\u5b9a",type:"green",handler:function(){this.close()}}]};!qing.lang.isNumber(t.width)&&!qing.lang.isNumber(t.height)&&(n=qui.dialog.DialogManager._getAppropriateSize(e,s),o.width=n.width,o.height=n.height),o.width=o.width>=r?o.width:r,o.width=o.width<=s?o.width:s,o.height=o.height>=i?o.height:i,t.fn&&qing.lang.isFunction(t.fn)&&(o.listeners={close:{fn:t.fn,scope:t.scope||window}});var u=new qui.dialog.Dialog(o);return n.overflow&&qing.dom.addClass(u.getProperty().nodes.content,"x-word-wrap"),u.show({isAutoHide:!1}),u},confirm:function(e,t){t=t||{};var n={overflow:!1},r=250,i=20,s=600,o={title:qing.lang.isString(t.title)?t.title:"\u63d0\u793a",opacity:.2,width:t.width||r,height:t.height||i,showCloseBtn:t.showCloseBtn,content:e,buttons:[{text:"\u786e\u5b9a",type:"green",handler:function(){this.close();if(t.fn&&qing.lang.isFunction(t.fn)){var e=qing.fn.bind(t.fn,t.scope||window,"yes");e()}}},{text:"\u53d6\u6d88",handler:function(){this.close();if(t.fn&&qing.lang.isFunction(t.fn)){var e=qing.fn.bind(t.fn,t.scope||window,"no");e()}}}]};!qing.lang.isNumber(t.width)&&!qing.lang.isNumber(t.height)&&(n=qui.dialog.DialogManager._getAppropriateSize(e,s),o.width=n.width,o.height=n.height),o.width=o.width>=r?o.width:r,o.width=o.width<=s?o.width:s,o.height=o.height>=i?o.height:i,t.fn&&qing.lang.isFunction(t.fn)&&(o.listeners={close:{fn:t.fn,scope:t.scope||window}});var u=new qui.dialog.Dialog(o);return n.overflow&&qing.dom.addClass(u.getProperty().nodes.content,"x-word-wrap"),u.show({isAutoHide:!1}),u},showMsg:function(e,t){t=qing.extend({msg:e,type:"normal",autoClose:!0},t),e='<div style="font-size:18px">'+e+"</div>";var n={overflow:!1},r=600;!qing.lang.isNumber(t.width)&&!qing.lang.isNumber(t.height)&&(n=qui.dialog.DialogManager._getAppropriateSize(e,r),t.width=n.width);var i=new qui.dialog.Message(t);i.show(),i.center(),i.setPosition({left:t.left,top:t.top});var s=t.time||1500;if(!t.autoClose)return i;setTimeout(function(){i.close()},s)},showIframe:function(e){var t=new qui.dialog.Dialog(e),n=qing.getUniqueId(),r='<iframe name="'+n+'" id="'+n+'" frameborder="0" scrolling="no" style="width:100%;height:100%;" src="'+e.url+'""></iframe>';t.setContent(r);var i={};return i.isAutoHide=e.isAutoHide||!0,i.isShowBg=e.isShowBg||!0,t.show(i),t.iframeId=n,t},loginDialogIsShowing:undefined,loginDialogIsCheckingStatus:!1,hideLogin:function(){var e=qui.dialog.DialogManager.loginDialogIsShowing;e&&(qing.dom.remove(e),qui.dialog.DialogManager.loginDialogIsShowing=!1)},showLoginRerender:function(e){var e=e||{},t=qui.dialog.DialogManager.loginDialogIsShowing;if(t){var n=qing.dom.q("x-dialog-show-login-iframe",t)[0];n&&qing.dom.setStyles(n,e)}},_v3Instance:undefined,_v3CFG:undefined,showLogin:function(e){if(qing.browser.ie==6){window.location.href="/go/login";return}var e=e||{};qui.dialog.DialogManager._v3CFG=e;if(qui.dialog.DialogManager._v3Instance){qui.dialog.DialogManager._v3Instance.show();return}baidu.sio.callByBrowser(qDomain.passport+"/passApi/js/uni_login_wrapper.js?v=75672479.js?cdnversion="+(new Date).getTime(),function(){var t={tangram:!baidu||!baidu.version||baidu.version.indexOf("2.")!==0,cache:!1,apiOpt:{product:"qing",staticPage:qDomain.qing+"/com/show/proxy?for=v3_pass_login",memberPass:!0,u:e.jumpUrl||window.location.href},forgetLink:qDomain.passport+"?getpass_index",registerLink:qDomain.qing+"/go/reg",onLoginSuccess:function(){var e=qui.dialog.DialogManager._v3CFG,t=e.jumpUrl||window.location.href;window.location.href=t}};qui.dialog.DialogManager._v3Instance=passport.pop.init(t),qui.dialog.DialogManager._v3Instance.show()});return;var t,e,n,r},showDialog:function(e,t){t=t||{};var n={overflow:!1},r=250,i=20,s=1e3,o={title:qing.lang.isString(t.title)?t.title:"\u63d0\u793a",opacity:.2,width:t.width||r,height:t.height||i,showCloseBtn:t.showCloseBtn,hasTitle:t.hasTitle===!1?!1:!0,buttons:t.buttons||!1,content:e};t.containerClass&&(o.containerClass=t.containerClass),!qing.lang.isNumber(t.width)&&!qing.lang.isNumber(t.height)&&(n=qui.dialog.DialogManager._getAppropriateSize(e,s),o.width=n.width,o.height=n.height),t.boxstyle&&(o.contentBoxStyle=t.boxstyle),t.style&&(o.contentStyle=t.style),o.width=o.width>=r?o.width:r,o.width=o.width<=s?o.width:s,o.height=o.height>=i?o.height:i,t.fn&&qing.lang.isFunction(t.fn)&&(o.listeners={close:{fn:t.fn,scope:t.scope||window}});var u=new qui.dialog.Dialog(o);return n.overflow&&qing.dom.addClass(u.getProperty().nodes.content,"x-word-wrap"),u.show({isAutoHide:!1}),u},showNickname:function(){var e="dialogNickname",t=['<div class="nickname-box">','<div class="nickname-box-title">\u606d\u559c\u60a8\u6210\u529f\u521b\u5efa\u7a7a\u95f4\uff01</div>','<div class="nickname-box-form">\u7a7a\u95f4\u6635\u79f0<input id="',e,'" type="text" class="placeholder input-box" placeholder="\u6700\u591a7\u4e2a\u6c49\u5b57\u621614\u4e2a\u5b57\u7b26" /></div>','<div class="nickname-box-tip"></div>',"</div>"].join("");qui.dialog.DialogManager.showDialog(t,{showCloseBtn:!1,hasTitle:!1,containerClass:"x-dialog-nickname",buttons:[{text:"\u786e\u5b9a",type:"green",handler:function(){var t=[window.qDomain.qing,"/go/submit/nickname"].join(""),n=qing.g(e),r=qing.dom.query(".nickname-box .nickname-box-tip")[0];if(!n)return;qing.ajax.post(t,{nickname:n.value},function(e){this.close()},function(e){r&&(r.innerHTML=e.errorMsg)})}}]});var n=qing.g(e);n&&(qext.placeholder(n),window.qelm&&window.qelm.inputbox&&window.qelm.inputbox.init(n))},showActive:function(){var e='<div style="margin-top:10px;">\u4f60\u8fd8\u6ca1\u6fc0\u6d3b\u65b0\u7248\u7a7a\u95f4\uff0c\u6fc0\u6d3b\u4e4b\u540e\u5c31\u53ef\u4ee5\u7ee7\u7eed\u64cd\u4f5c\u4e86\u3002</div>';qui.alert(e,{width:400,height:50,title:"\u9700\u8981\u6fc0\u6d3b\u7a7a\u95f4\u624d\u80fd\u7ee7\u7eed\u64cd\u4f5c",buttons:[{text:"\u9a6c\u4e0a\u6fc0\u6d3b",type:"green",handler:function(){window.location=window.qDomain.qing+"/go/show/qurl"}}]})},showForbidSelf:function(){var e='<div style="margin-top:10px;">sorry\uff0c\u4f60\u7684ID\u8fdd\u53cd\u7a7a\u95f4\u534f\u8bae\u88ab\u5c01\u7981\uff0c\u5c01\u7981\u671f\u95f4\u5c06\u65e0\u6cd5\u53d1\u5e03\u4efb\u4f55\u5185\u5bb9</div><div style="margin-top:10px;">\u5982\u6709\u7591\u95ee\uff0c\u8bf7\u54a8\u8be2 <a href="http://tousu.baidu.com/hi/add" style="text-decoration:underline;">\u6295\u8bc9\u4e2d\u5fc3</a></div>';qui.alert(e,{width:420,height:90,title:"\u63d0\u793a"})}},qui.alert=qui.dialog.DialogManager.alert,qui.confirm=qui.dialog.DialogManager.confirm,qui.showMsg=qui.dialog.DialogManager.showMsg,qui.showIframe=qui.dialog.DialogManager.showIframe,qui.showLogin=qui.dialog.DialogManager.showLogin,qui.showDialog=qui.dialog.DialogManager.showDialog,qui.showActive=qui.dialog.DialogManager.showActive,qui.showForbidSelf=qui.dialog.DialogManager.showForbidSelf,qui.showNickname=qui.dialog.DialogManager.showNickname,qing.registNS("qui.message"),qui.message.Tip=qing.lang.createClass(function(e){var t={speed:400,autoclose:1e3,note:"",type:"success",boxclass:"x-message-box",contentclass:"x-message-content",iconclass:"x-message-icon",textclass:"x-message-text",statusclass:"x-message-status",shadowclass:"x-message-shadow",callback:function(){}};qing.object.extend(t,e);var n=null;qing.q(t["boxclass"]).length==0?(n=document.createElement("div"),document.body.insertBefore(n,document.body.childNodes[0])):(qing.dom.remove(qing.q(t.boxclass)[0]),n=document.createElement("div"),document.body.insertBefore(n,document.body.childNodes[0])),n.className=[t.boxclass," ",t.statusclass,"-",t.type].join(""),n.innerHTML=['<div class="',t.shadowclass,'"></div><div class="',t.contentclass,'"><a class="',t.iconclass,'" ></a><div class="',t.textclass,'"><pre>',t.note,"</pre></div></div>"].join("");var r=qing.q(t.shadowclass,n)[0],i=qing.q(t.contentclass,n)[0],s=qext.fn.getDimensions(i),o=4,u=!0,a=(qing.page.getViewWidth()-s.width-o*2)/2;r.style.width=s.width+o*2+"px",r.style.height=s.height+o+"px",n.style.left=a+"px",n.style.height=r.style.height,n.style.width=r.style.width;var f=qing.q(t.textclass,n)[0],s=qext.fn.getDimensions(f);qing.browser.ie!=undefined&&(qing.dom.opacity(r,.6),qing.dom.opacity(i,1),qing.browser.ie<7?(i.style.left=0,r.style.left="-4px",u=!1,n.style.position="absolute",n.style.top=qing.page.getScrollTop()+"px",n.style.setExpression("top","eval(document.documentElement.scrollTop)")):qing.browser.ie<8&&(r.style.left=0));if(u){n.style.top="-"+n.style.height,qing.dom.opacity(n,0);var l=qani.animate(n,{top:0,opacity:1},t.speed);l.on("finish",function(){setTimeout(function(){var e=qani.animate(n,{opacity:0},t.speed);e.on("finish",function(){qing.dom.remove(n),t.callback&&t.callback()})},t.autoclose)})}else setTimeout(function(){qing.dom.remove(n),t.callback&&t.callback()},t.autoclose+2*t.speed)}).extend({}),qing.registNS("qui.message"),qui.message.MsgManager={showSuccess:function(e,t){return new qui.message.Tip({note:e,callback:t})},showAlert:function(e,t){return new qui.message.Tip({note:e,type:"alert",callback:t})},showError:function(e,t){return new qui.message.Tip({note:e,type:"error",callback:t})},showNotice:function(e,t){return new qui.message.Tip({note:e,type:"notice",callback:t})},showQuestion:function(e,t){return new qui.message.Tip({note:e,type:"question",callback:t})},showForbidden:function(e,t){return new qui.message.Tip({note:e,type:"forbidden",callback:t})}},qui.showError=qui.message.MsgManager.showError,qui.showAlert=qui.message.MsgManager.showAlert,qui.showSuccess=qui.message.MsgManager.showSuccess,qui.showNotice=qui.message.MsgManager.showNotice,qui.showQuestion=qui.message.MsgManager.showQuestion,qui.showForbidden=qui.message.MsgManager.showForbidden,qing.registNS("qui.tip"),qui.tip.AbstractTip=qing.lang.createClass(function(e){var t="";e.closeable!==!1&&(t='<a id="#{closeBtn}" href="#" onclick="return false;" class="x-tip-closebtn"></a>');var n=['<div id="#{entity}">','<div id="#{contentBox}" class="x-tip-content-box">','<div id="#{content}" class="x-tip-content"></div>','<div id="#{btnPanel}" class="x-tip-btnPanel"></div>',"</div>",t,'<div id="#{triangle}">','<div class="x-tip-triangle"></div>','<div class="x-tip-triangle-inner"></div>',"</div>","</div>"].join("");this.setTemplate(n);var r=this.getProperty();e.closeable!==!1&&this._on(r.nodes.closeBtn,"click",this.close,this),e.buttons?this._addButton(e.buttons):r.nodes.btnPanel.style.display="none",this._on(window,"resize",this.update,this)},{superClass:qui.Layer}).extend({update:function(){var e=this.getProperty();this.setTarget(e.target,e.anchor,e.offset,e.fix)},setTarget:function(e,t,n,r){if(!e||!qing.g(e))return!1;e=qing.g(e),t=t||"bottom",n=qing.extend({x:0,y:0},n);var i=this.getProperty(),s={height:"top"==t||"bottom"==t?i.triangleSize[1]:i.triangleSize[0],width:"top"==t||"bottom"==t?i.triangleSize[0]:i.triangleSize[1],x:0,y:0},o="1022";i.target=e,i.anchor=t,i.offset=n,i.fix=r;var u=e.offsetWidth,a=e.offsetHeight,f=qing.dom.getPosition(e),l=f.left,c=f.top,h=.618;if("top"==t||"bottom"==t){var p=l+u/2,d=i.nodes.entity.offsetWidth,v=Math.round(d*h);i.x=p+v*3/2-d-10,p+v>qing.page.getWidth()&&(i.x=qing.page.getWidth()-d),i.x<0&&(i.x=0),s.x=p-i.x-s.width*.5}"top"==t?(i.y=c-i.nodes.entity.offsetHeight-s.height,s.y=i.nodes.entity.offsetHeight-2):"bottom"==t&&(i.y=c+a+s.height,s.y=-s.height);if("right"==t||"left"==t){var p=c+a/2,m=i.nodes.entity.offsetHeight,g=Math.round(m*h);i.y=p+g-m,s.y=p-i.y-s.height*.5}"right"==t&&(i.x=l+u+s.width,s.x=-s.width),"left"==t&&(i.x=l-i.nodes.entity.offsetWidth-s.width,s.x=i.nodes.entity.offsetWidth-1),i.y+=n.y,i.x+=n.x,qing.dom.addClass(i.nodes.triangle,"x-tip-triangle-"+t);if(r){var y=i.nodes.entity.offsetWidth,b=i.nodes.entity.offsetHeight,w=0,E=0,S={};switch(r.pos){case"left":S.x=qing.dom.getPosition(r.target).left-1;break;case"right":S.x=qing.dom.getPosition(r.target).left+qext.fn.getDimensions(r.target).width+1;break;case"top":S.y=qing.dom.getPosition(r.target).top-1;break;case"bottom":S.y=qing.dom.getPosition(r.target).top+qext.fn.getDimensions(r.target).height+1}switch(r.ori){case"left":w=S.x-i.x;break;case"right":w=S.x-y-i.x;break;case"top":E=S.y-i.y;break;case"bottom":E=S.y-b-i.y}i.x+=w,i.y+=E,s.x-=w,s.y-=E,r.zIndex&&(o=r.zIndex)}qing.setStyles(i.nodes.triangle,{left:s.x+"px",top:s.y+"px"}),this.isShow&&qing.setStyles(this.dom,{left:i.x+"px",top:i.y+"px"}),qing.array.each([i.nodes.entity,this.dom,this._ifm],function(e){e&&qing.setStyles(e,{zIndex:o})}),r&&r.isFixed&&qing.setStyles(this.dom,{position:"fixed"}),r&&r.callback&&r.callback(this)},_addButton:function(e){var t=this,n=[];qing.array.each(e,function(e){var t="green"==e.type?"btn-s btn-12":"btn-g btn-12";n.push('<a href="#" onclick="return false;" class="x-dialog-btn '+t+'">'+e.text+"</a>")});var r=this.getProperty();r.nodes.btnPanel.innerHTML=n.join("");var i=r.nodes.btnPanel.getElementsByTagName("a");qing.array.each(e,function(e,n){e.handler&&qing.lang.isFunction(e.handler)&&t._on(i[n],"click",e.handler,e.scope)})}}),qing.registNS("qui.tip"),qui.tip.SimpleTip=qing.lang.createClass(function(e){var t=this.getProperty();t.triangleSize=[12,6],qing.dom.addClass(t.nodes.entity,"x-simple-tip"),qing.lang.isNumber(e.width)&&qing.setStyle(t.nodes.content,"width",e.width+"px"),qing.lang.isNumber(e.height)&&qing.setStyle(t.nodes.content,"height",e.height+"px"),t.nodes.content.innerHTML=e.msg,this.setTarget(e.target,e.anchor,e.anchorOffset,e.fix)},{superClass:qui.tip.AbstractTip}).extend({_init:function(){}}),qing.registNS("qui.tip"),qui.tip.FixedTip=qing.lang.createClass(function(e){var t=this.getProperty();t.triangleSize=[12,6];var n="x-fixed-tip";e.customClass&&(n=[n,e.customClass].join(" ")),qing.dom.addClass(t.nodes.entity,n),qing.lang.isNumber(e.width)&&qing.setStyle(t.nodes.content,"width",e.width+"px"),qing.lang.isNumber(e.height)&&qing.setStyle(t.nodes.content,"height",e.height+"px"),t.nodes.content.innerHTML=e.msg,e.fix=e.fix||{};if(!qing.browser.ie||qing.browser.ie>6)e.fix.isFixed=!0;e.fix.callback=e.fix.callback||function(t){t.center({top:qing.g(e.target).offsetHeight})},this.setTarget(e.target,e.anchor,e.anchorOffset,e.fix)},{superClass:qui.tip.AbstractTip}).extend({_init:function(){}}),qing.registNS("qui.tip"),qui.tip.Tip=qing.lang.createClass(function(e){var t=this.getProperty();t.triangleSize=[12,6],qing.dom.addClass(t.nodes.entity,"x-tip"),qing.lang.isNumber(e.width)&&(qing.setStyle(t.nodes.content,"width",e.width+"px"),qing.browser.ie<7&&qing.setStyle(t.nodes.contentBox,"width",e.width+"px")),qing.lang.isNumber(e.height)&&qing.setStyle(t.nodes.content,"height",e.height+"px"),t.nodes.content.innerHTML=e.msg,e.buttons?this._addButton(e.buttons):t.nodes.btnPanel.style.display="none",this.setTarget(e.target,e.anchor,e.anchorOffset)},{superClass:qui.tip.AbstractTip}).extend({_addButton:function(e){var t=this,n=[];qing.array.each(e,function(e){var t="silver"==e.type?"btn-s btn-12":"btn-g btn-12";n.push('<a href="#" onclick="return false;" class="x-tip-btn '+t+'">'+e.text+"</a>")});var r=this.getProperty();r.nodes.btnPanel.innerHTML=n.join("");var i=r.nodes.btnPanel.getElementsByTagName("a");qing.array.each(e,function(e,n){e.handler&&qing.lang.isFunction(e.handler)&&t._on(i[n],"click",function(n){e.handler(t,n)},e.scope)})}}),qing.registNS("qui.tip"),qui.tip.TipManager={showTip:function(e){var t=new qui.tip.Tip(e);t.show()},showSimpleTip:function(e){var t=new qui.tip.SimpleTip(e);return t.show(e),t},showClickonceTip:function(){var e=['<div class="tip-title">\u6211\u4eec\u5df2\u7ecf\u51c6\u5907\u597d\u4e86\u5c5e\u4e8e\u60a8\u7684\u767e\u5ea6\u7a7a\u95f4</div>'].join(""),t={target:"modTopbar",customClass:"x-fixed-tip-clickonce",fix:{zIndex:1002,callback:function(e){e.center({top:qing.g(t.target).offsetHeight-4})}},buttons:[{text:"\u4e00\u952e\u6fc0\u6d3b",type:"green",handler:function(){var e=[window.qDomain.qing,"/go/submit/quickspurl"].join(""),t,n=this;qing.ajax.post(e,{},function(e){n.close(),qui.showSuccess("\u606d\u559c\u60a8\u6210\u529f\u5f00\u901a\u767e\u5ea6\u7a7a\u95f4")},function(e){var t=e.errorMsg;qui.showError(t)})}}],msg:e},n=new qui.tip.FixedTip(t);return n.show(t),n},showTopGuideTip:function(){var e=['<div class="tip-title">\u767e\u5ea6\u7a7a\u95f4\uff0c\u8ba9\u4e16\u754c\u53d1\u73b0\u4f60</div>','<div class="tip-desc">\u5411\u4e16\u754c\u5c55\u793a\u81ea\u5df1\uff0c\u53d1\u5e03\u559c\u7231\u7684\u56fe\u7247\u3001\u6587\u5b57\u548c\u97f3\u4e50</div>'].join(""),t={target
:"modTopbar",fix:{zIndex:1002,callback:function(e){e.center({top:qing.g(t.target).offsetHeight-4})}},buttons:[{text:"\u7b80\u5355\u6ce8\u518c",type:"green",handler:function(){this.close(),window.location.href=[window.qDomain.qing,"/go/reg?pmfrom=topguidetip"].join("")}},{text:"\u767b\u5f55",handler:function(){this.close(),window.location.href="/go/login?pmfrom=topguidetip"}}],msg:e},n=new qui.tip.FixedTip(t);return n.show(t),n}},qui.showTip=qui.tip.TipManager.showTip,qui.showSimpleTip=qui.tip.TipManager.showSimpleTip,qui.showTopGuideTip=qui.tip.TipManager.showTopGuideTip,qui.showClickonceTip=qui.tip.TipManager.showClickonceTip,qing.registNS("qui"),qui.tab=function(){var e=function(e){},t={container:['<div class="tab clearfix">','<div class="tab-vernier"></div>','<ul class="tab-ul">',"#{li}","</ul>","</div>",'<div class="tab-bottom-line"></div>'].join(""),li:['<li class="tab-li #{class}">',"#{text}","</li>"].join(""),a:'<a class="#{class}" href="#{href}" target="#{target}">#{name}</a>',span:'<span class="#{class}">#{name}</span>'},n=function(e){var n=[],r,i,s;for(var o in e)r=e[o],i=r["class"],liClass="",/^[\x20-\x7E]+$/.test(o)&&(liClass="tab-li-ascii"),r.selected&&(liClass=[liClass,"tab-li-selected"].join(" ")),r.href?n.push(qing.string.format(t.li,{text:qing.string.format(t.a,{href:r.href,target:r.target||"_self","class":i,name:o}),"class":liClass})):n.push(qing.string.format(t.li,{text:qing.string.format(t.span,{"class":i,name:o}),"class":liClass}));return s=qing.string.format(t.container,{li:n.join("")}),s},r={init:e,getHTML:n};return r}();var Zero=window.Zero||{};qext.back2top=function(){var e,t=T.browser.ie===6,n=function(){return window},r=function(){var e=n(),t=T.browser.isWebkit?e.document.body:e.document.documentElement;return t},i=function(i){var s=i||{};e=function(){var e=[s.bottom?"bottom:"+s.bottom+";":"bottom:1%;",s.left?"margin-left:"+s.left+"px;":"margin-left:490px;","width:57px;","height:57px;","overflow:hidden;","cursor:pointer;","left:50%;","-webkit-transition-duration:0.2;","-webkit-transition-property:opacity;","-moz-transition-duration:0.2;","-moz-transition-property:opacity;","-o-transition-duration:0.2;","-o-transition-property:opacity;","transition-duration:0.2;","transition-property:opacity;"].join(""),t=[].join(""),n=qing.dom.create("div",{style:e,id:"qBack2topBtn"}),r='<div class="back2top-icon-bg"></div><div class="back2top-icon-real"></div>',i=qing.dom.create("div",{"class":"back2top-ani-icon",style:t});i.innerHTML=r;var o,u=function(){return n.style.WebkitTransition||n.style.MozTransition||n.style.OTransition||n.style.transition?function(){n.style.opacity=1}:function(){o=qani.animate(n,{opacity:.6},{opacity:1})}}(),a=function(){return n.style.WebkitTransition||n.style.MozTransition||n.style.OTransition||n.style.transition?function(){n.style.opacity=.6}:function(){o.stop(),o=qani.animate(n,{opacity:1},{opacity:.6})}}();n.appendChild(i),document.body.appendChild(n);var f=qing.q("back2top-icon-real",n)[0];return f&&(qing.event.on(f,"mouseover",u,200),qing.event.on(f,"mouseout",a,200),s.backgroundImage&&qing.dom.setStyles(f,{"background-image":["url("+s.backgroundImage+")"].join("")})),n}(),qing.dom.ready(function(){Zero.scrollStopListener=function(){function o(r){t=setInterval(function(){typeof i=="undefined"?i=e.scrollTop:(s=e.scrollTop,s===i?r.onstop.call(n()):r.onscrolling.call(n()),i=e.scrollTop)},100)}function u(){clearInterval(t)}var e=r(),t,i,s;return{init:o,unStop:u}}();var i=r(),s=function(n){function i(t){e.isShow&&(e.style.opacity=0,e.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity:0)",e.isShow=!1,e.style.display="none"),r||(Zero.scrollStopListener.init({onstop:function(){Zero.scrollStopListener.unStop(),r=!1;if(n.scrollTop>400){if(!e.isShow){T.dom.setStyles(e,{bottom:"1%"});var t=qani.animation({obj:e,changes:{type:"opacity",from:0,to:.6,tween:"even"}},200);t.start(),e.style.display="block",e.isShow=!0}}else e.isShow&&(e.style.opacity=0,e.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity:0)",e.isShow=!1,e.style.display="none")},onscrolling:function(){e.isShow&&(e.style.opacity=0,e.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity:0)",e.isShow=!1)}}),r=!0)}function s(t){if(n.scrollTop>400){if(!e.isShow){var r=qani.animation({obj:e,changes:{type:"opacity",from:0,to:.6,tween:"even"}},200);r.start(),e.style.display="block",e.isShow=!0}}else if(e.isShow){var r=qani.animation({obj:e,changes:{type:"opacity",from:.6,to:0,tween:"even"}},200);r.start(),r.on("finish",function(){e.style.display="none"}),e.isShow=!1}}var r=!1;return t?i:s}(i),o=t?"absolute":"fixed";qing.dom.setStyle(e,"position",o),i.scrollTop<=400?(e.style.opacity=0,e.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity:0)",e.isShow=!1,e.style.display="none"):(t&&T.dom.setStyles(e,{bottom:"1%"}),e.style.display="block",e.isShow=!0),T.event.on(e,"click",function(e){var t=parseInt(i.scrollTop*.2),n=t>500?500:t,r=qani.animation({obj:i,changes:{type:"scroll",to:0,tween:"strongDecelerate"}},n);r.start()}),T.event.on(n(),"scroll",s)})};return{init:i}}(),qing.registNS("qext"),function(){qext.Textarea=qing.lang.createClass(function(e){this.autoHeight=e.autoHeight==null?!1:e.autoHeight,this.autoRender=e.autoRender==null?!1:e.autoRender,this.autoFocus=e.autoFocus==null?!1:e.autoFocus,this.gbkMaxSize=e.gbkMaxSize,this.changeCallback=e.callback,this.autoRender&&this.render(e.element)},{}).extend({classPrefix:"x-qing-textarea",render:function(e){if(!e)return;this.dom=qing.g(e),this.dom.style.overflow="hidden";if(this.autoHeight){var t=this;qing.event.on(this.dom,"keyup",function(){t.onInputKeyup()}),qing.event.on(this.dom,"mouseup",function(){t.onInputKeyup()}),qing.event.on(this.dom,"focus",function(){t.onInputKeyup()})}this.initHeight=parseInt(qing.dom.getStyle(this.dom,"height").replace("px","")),this.autoFocus&&this.dom.focus(),this.gbkMaxSize&&this.gbkMaxLengthLimite(this.dom,this.gbkMaxSize,this.changeCallback)},onInputKeyup:function(){var e=this.dom,t=T.g("__hidetextarea");t||(t=document.createElement("textarea"),t.id="__hidetextarea",t.style.borderWidth=0,document.body.appendChild(t)),t.value=e.value,t.style.height="0px",t.style.overflow="hidden",T.dom.setStyle(t,"line-height",T.dom.getStyle(e,"line-height")),T.dom.setStyle(t,"width",T.dom.getStyle(e,"width"));var n=t.scrollHeight;delete n,e.style.height=Math.max(this.initHeight,t.scrollHeight-t.clientHeight)+"px"},gbkMaxLengthLimite:function(e,t,n){var r=!0;qing.event.on(e,"keyup",function(e){var i=this;setTimeout(function(){var e=qing.string.getByteLength(i.value);r=e>=t*2?!1:!0,n&&n(e)},0)}),qing.event.on(e,"focus",function(){n&&n(qing.string.getByteLength(this.value))}),qing.event.on(e,"cute",function(e){var i=qing.string.getByteLength(self.value);r=i>=t*2?!1:!0,n&&n(qing.string.getByteLength(this.value))}),qing.event.on(e,"paste",function(e){var i=this;if(!r)return qing.event.preventDefault(e),!1;setTimeout(function(){var e=qing.string.getByteLength(i.value);r=e>=t*2?!1:!0,n&&n(e)},0)})},getClass:function(e){return e!=null&&qing.string.trim(e)!=""?this.classPrefix+"-"+e:this.classPrefix}}),qext.textarea=function(e){return new qext.Textarea(e)}}(),qing.registNS("qext"),qext.autosubmit=function(){var e=function(){var e=qing.q("autosubmit");for(var t in e)qing.on(e[t],"keyup",function(e){var t=e.which||e.keyCode,n=parseInt(t,10)==13,r=this;if(!n)return;r.tagName.toLowerCase()!="form"&&(r=qing.dom.getAncestorByTag(this,"form")),r&&qing.dom.hasClass(r,"autosubmit-ctrl")&&(n=e.ctrlKey&&n);if(n){if(qext.autosubmit.precheck&&qing.lang.isFunction(qext.autosubmit.precheck)){var i=qext.autosubmit.precheck(r);if(i!==!0)return}var s=qing.q("autosubmit-button",r)[0];s||(s=qing.dom.create("input",{type:"submit"}),qing.dom.setStyles(s,{position:"absolute",left:"-100000px"}),r.appendChild(s)),qing.event.fire(s,"click")}})},t=function(e,t){if(!e)return!1;e.constructor!=Array&&(e=[e]),qing.array.each(e,function(e){qing.on(e,"keyup",function(e){var n=e.which||e.keyCode;e.ctrlKey&&n==13&&t.call(this,e)})})},n=function(){qing.dom.ready(function(){e()})};return{init:n,bindCtrlEnter:t}}(),qext.autosubmit.init(),qing.registNS("qext"),qext.statistics=qext.stat=function(){var e=function(e,t){t=t||"",n("http://hi.baidu.com/sys/statlog/1.gif?m="+encodeURIComponent(e)+"&v="+encodeURIComponent(t)+"&_t="+Math.random())},t=function(e,t){var r=109,i=2009,s="http://nsclick.baidu.com/v.gif?pid="+r+(t?"&"+qing.url.jsonToQuery(t):"")+"&type="+i+"&m="+e+"&_t="+Math.random();n(s)},n=function(e){var t="imglog__"+(new Date).getTime(),n=window[t]=new Image;n.onload=n.onerror=function(){window[t]=null},n.src=e,n=null},r=function(e){if(typeof e=="string"){function n(e,t){var e=e;while(e){if(e.className&&T.dom.hasClass(e,t))return e;e=T.dom.getParent(e)}return!1}var r=e;T.event.on(document.body,"mousedown",function(e){var i=e.target||e.srcElement,s=n(i,r);if(s.className&&s){var o=T.dom.getAttr(s,"data-nsclick"),u=o.match(/\S+/g);for(var a=0,f=u.length;a<f;a++)t(u[a])}});return}var i=[].concat(e);for(var s=0,o=i.length;s<o;s++){var u=T.dom.g(i[s]);T.event.on(u,"mousedown",function(e){var t=this,n=T.dom.getAttr(t,"data-nsclick");qing.ext.stat.ns_trackerLink(n)})}},i={qing:e,ns:t,bindNS:r,img:n};return i}(),qing.registNS("qext"),qext.statProxy=function(e){if(typeof e=="string"){function t(e,t){var e=e;while(e){if(e.className&&T.dom.hasClass(e,t))return e;e=T.dom.getParent(e)}return!1}var n=e;T.event.on(document.body,"mousedown",function(e){var r=e.target||e.srcElement,i=t(r,n);if(i.className&&i){var s=T.dom.getAttr(i,"data-nsclick"),o=s.match(/\S+/g);for(var u=0,a=o.length;u<a;u++)qext.stat.ns(o[u])}});return}var r=[].concat(e);for(var i=0,s=r.length;i<s;i++){var o=T.dom.g(r[i]);T.event.on(o,"mousedown",function(e){var t=this,n=T.dom.getAttr(t,"data-nsclick");qing.ext.stat.ns_trackerLink(n)})}},qing.dom.ready(function(){qext.statProxy("qing-stat-nsclick")}),qing.registNS("qext.pager"),qext.pager=function(){var e=[],t={allCount:0,pageSize:10,curPage:1,linkCount:10,button:["number","first","next","prev","last"],tpl:{normal:'<a href="?page=#{pn}" hidefocus>#{text}</a>',selected:"<span>#{text}</span>",first:'<a href="?page=#{pn}" class="first">#{text}</a>',last:'<a href="?page=#{pn}" class="last">#{text}</a>',next:'<a href="?page=#{pn}" class="next">#{text}</a>',prev:'<a href="?page=#{pn}" class="prev">#{text}</a>'},text:{first:"\u9996\u9875",next:"\u4e0b\u4e00\u9875&gt;&gt;",prev:"&lt;&lt;\u4e0a\u4e00\u9875",last:"\u5c3e\u9875"},callback:function(){}},n=function(){t.allPageCount>1?(qing.g(t.container).innerHTML=['<div class="mod-pagerbar">',e.join(""),"</div>"].join(""),qing.dom.setStyle(t.container,"display","block")):qing.dom.setStyle(t.container,"display","none"),t.callback&&typeof t.callback=="function"&&t.callback()},r=function(r){r.tpl=qing.object.extend(t.tpl,r.tpl),r=qing.object.extend(t,r),r.step=parseInt(r.step,10)||1,r.allCount=parseInt(r.allCount,10),r.pageSize=parseInt(r.pageSize,10),r.curPage=parseInt(r.curPage,10),r.linkCount=parseInt(r.linkCount,10);var i=r.button.join(",");t=r,e=[];var s=Math.floor(r.allCount/r.pageSize);r.allCount%r.pageSize!==0&&(s+=1),t.allPageCount=s;if(s<=1){n();return}r.curPage=r.curPage<1?1:r.curPage>s?s:r.curPage;var o=Math.max(1,r.curPage-parseInt(r.linkCount/2,10)),u=Math.min(o+r.linkCount-1,s),o=Math.max(1,u-r.linkCount+1);o>1&&i.indexOf("first")>=0?e.push(qing.string.format(r.tpl.first,{pn:1,text:r.text.first})):r.tpl&&r.tpl.firstNone&&e.push(r.tpl.firstNone),r.curPage>1&&i.indexOf("prev")>=0?e.push(qing.string.format(r.tpl.prev,{pn:(r.curPage-2)*r.step+1,text:r.text.prev})):r.tpl&&r.tpl.prevNone&&e.push(r.tpl.prevNone);if(i.indexOf("number")>=0)for(var a=o;a<=u;a++)a===r.curPage?e.push(qing.string.format(r.tpl.selected,{text:a})):e.push(qing.string.format(r.tpl.normal,{pn:(a-1)*r.step+1,text:a}));r.curPage<s&&i.indexOf("next")>=0?e.push(qing.string.format(r.tpl.next,{pn:r.curPage*r.step+1,text:r.text.next})):r.tpl&&r.tpl.nextNone&&e.push(r.tpl.nextNone);if(u<s&&i.indexOf("last")>=0){r.step=parseInt(r.step,10)||1,r.allCount=parseInt(r.allCount,10),r.pageSize=parseInt(r.pageSize,10),r.curPage=parseInt(r.curPage,10),r.linkCount=parseInt(r.linkCount,10);var f=s;if(r.step){var l=r.pageSize/r.step,c=Math.ceil(r.allCount/l),h=c%r.step;h>0?f=c-h+1:f=c-r.step+1}e.push(qing.string.format(r.tpl.last,{pn:f,text:r.text.last}))}else r.tpl&&r.tpl.lastNone&&e.push(r.tpl.lastNone);n()};return{init:r}}(),qing.registNS("qext"),function(){function e(e){return(new RegExp('^[^\\x00-\\x20\\x7f\\(\\)<>@,;:\\\\\\"\\[\\]\\?=\\{\\}\\/\\u0080-\\uffff]+$')).test(e)}function n(){var e=null;return e=document.createElement("input"),e.type="hidden",e.addBehavior("#default#userData"),document.body.appendChild(e),e}function r(e,t){try{var r=n(),i=t||{};if(i.expires){var s;"number"==typeof i.expires&&(s=new Date,s.setTime(s.getTime()+i.expires)),r.expires=s.toUTCString()}r.setAttribute(i.key,i.value),r.save(i.key)}catch(o){}}function i(e,n){r(e,n);var i=s({key:t});i?i={key:t,value:i}:i={key:t,value:""},(new RegExp("(^|\\|)"+e+"(\\||$)","g")).test(i.value)||(i.value+="|"+e,r(t,i))}function s(e){try{var t=n();return t.load(e.key),t.getAttribute(e.key)||null}catch(r){return null}}function o(e){try{var i=n();i.load(e.key),i.removeAttribute(e.key);var o=new Date;o.setTime(o.getTime()-1),i.expires=o.toUTCString(),i.save(e.key);var u=s({key:t});u&&(u=u.replace(new RegExp("(^|\\|)"+e.key+"(\\||$)","g"),""),u={key:t,value:u},r(t,u))}catch(a){}}function u(){result=s({key:t});if(result){var e=result.split("|"),n=e.length;for(var r=0;r<n;r++)!e[r]||o({key:e[r]})}}function a(){var e=[],n=s({key:t});if(n){n=n.split("|");for(var r=0,i=n.length;r<i;r++)!n[r]||e.push(n[r])}return e}var t="_baidu.ALL.KEY_",f="localStorage"in window&&window.localStorage!==null,l=!!qing.browser.ie;qext.LocalStorage={isAvailable:f||l,set:function(t){var n=function(t){if(!e(t.key))return;var n=t||{};f?(window.localStorage.setItem(n.key,n.value),t.expires&&window.localStorage.setItem(n.key+".expires",n.expires)):l&&i(t.key,n)};if(t&&t.constructor===Array&&t instanceof Array)for(var r=0,s=t.length;r<s;r++)n(t[r]);else t&&n(t)},get:function(t){var n=function(t){var n=null;typeof t=="string"&&(t={key:t});if(!e(t.key))return n;if(f){n=window.localStorage.getItem(t.key);if(n){var r=window.localStorage.getItem(t.key+".expires");n={value:n,expires:r?new Date(r):null},n&&n.expires&&n.expires<new Date&&(n=null,window.localStorage.removeItem(t.key))}}else l&&(n=s(t),n&&(n={value:n}));return n?n.value:null},r=null;if(t&&t.constructor===Array&&t instanceof Array){r=[];for(var i=0,o=t.length;i<o;i++)r.push(n(t[i]))}else t&&(r=n(t));return r},remove:function(e){var t=function(e){f?(window.localStorage.removeItem(e.key),window.localStorage.removeItem(e.key+".expires")):l&&o(e)};if(e&&e.constructor===Array&&e instanceof Array)for(var n=0,r=e.length;n<r;n++)t(e[n]);else e&&t(e)},clearAll:function(){f?window.localStorage.clear():l&&u()},getAllKeys:function(){var e=[];if(f){var t;for(var n=0,r=window.localStorage.length;n<r;n++)t=window.localStorage.key(n),/.+\.expires$/.test(t)||e.push(t)}else l&&(e=a());return e}}}(),qing.registNS("qext"),function(e){if(e.placeholder)return;var t={className:"placeholder",classHolder:"label-placeholder",attrName:"placeholder",attrStyleName:"data-placeholder",attrIName:"data-iplaceholder",attrStashName:"stash-placeholder"},n=function(e){var t=qing.dom.getStyle(e,"z-index"),n=e,r,i;while(n.parentNode){n=n.parentNode;if(n.nodeName.toLowerCase()==="body")break;var s=qing.dom.getStyle(n,"z-index");qing.lang.isNumber(s)&&(r=s)}return qing.lang.isNumber(r)?i=r:qing.lang.isNumber(t)?i=t:i=0,i},r=function(e,t){return function(){setTimeout(function(){s(e,t)},10)}},i=function(e,t){var n=e.id;if(!n)return;var r=["labelFor",n].join(""),i=qing.g(r);if(document.activeElement){var s=document.activeElement;s==e&&(t="hide")}t==="hide"||e.value!=""?i&&qing.dom.hide(i):i?qing.dom.show(i):f(e)},s=function(e,t){var n={},r=qing.dom.getPosition(t);n.top=r.top,n.left=r.left,l(e,n)},o=function(){var e=this.getAttribute(t.attrName);if(e===""||e===null)return;this.setAttribute(t.attrStashName,e),this.setAttribute(t.attrName,"")},u=function(){if(this.value==""){var e=this.getAttribute(t.attrStashName);if(e===""||e===null)return;this.setAttribute(t.attrName,e)}},a=function(e){qing.event.un(e,"focus",o),qing.event.un(e,"blur",u),qing.event.on(e,"focus",o),qing.event.on(e,"blur",u)},f=function(e){if(!qing.browser.ie||qing.browser.ie>9)return a(e);var s=e.id;if(!s)return;var o=["labelFor",s].join(""),u=qing.g(o);u&&qing.dom.remove(u),u=qing.dom.create("label"),qing.event.on(e,"focus",function(){i(this,"hide")}),qing.event.on(e,"blur",function(){i(this)}),u.id=o,u.setAttribute("for",s),qing.dom.addClass(u,t.classHolder);var f=e.getAttribute(t.attrName);f||(f=e.getAttribute(t.attrIName));if(!f)return;u.innerHTML=f;var c=e.getAttribute(t.attrStyleName),h={};if(c){var p=/\s*([A-z\_0-9\-]+)\s*\:\s*([^\;]+)(?:\;)?/gi,d;while((d=p.exec(c))!==null)h[d[1]]=d[2]}h["z-index"]===undefined&&(h["z-index"]=parseInt(n(e),10)+1),h.color===undefined&&(h.color="#ddd"),h["text-indent"]===undefined&&(h["text-indent"]="10px"),h.position===undefined&&(h.position="absolute");var v=qing.dom.getPosition(e);h.top=v.top,h.left=v.left;if(h["line-height"]===undefined){var m=parseInt(qing.dom.getStyle(e,"line-height"),10);m||(m=parseInt(qing.dom.getStyle(e,"height"),10)),isNaN(m)&&(m=0),m+=20,m+="px",h["line-height"]=m}l(u,h),qing.event.on(u,"click",function(){e.focus()}),document.body.appendChild(u),i(e),qing.on(window,"resize",r(u,e))},l=function(e,t){qing.dom.setStyles(e,t)};e.placeholder=f,qing.dom.ready(function(){var e=qing.q(t.className);for(var n=0,r=e.length;n<r;n++)f(e[n])})}(qext),qext.event={},qext.event.create=function(e,t){qext.event.events=qext.event.events||{};var n=qext.event.events;if(e in n){var r=n[e];for(var i=0,s=r.length;i<s;i++)if(r[i].src===t)throw new Error("The event has been created")}n[e]=n[e]||[],n[e].push({src:t,callback:[]})},qext.event.addEventListener=function(e,t,n){var r=qext.event.events[t];if(!r)throw new Error("The event of "+t+" is undefind");if(typeof n!="function")throw new Error("The thrid argument must be a  Function");var i=!1;for(var s=0,o=r.length;s<o;s++)if(e.constructor===r[s].src||e instanceof r[s].src){r[s].callback.push({obj:e,fn:n}),i=!0;break}if(!i)throw new Error("The obj type is not support for this event")},qext.event.removeEventListener=function(e,t,n){var r=qext.event.events[t];if(!r)throw new Error("The event of "+t+" is undefind");if(typeof n!="function")throw new Error("The thrid argument must be a  Function");var i=!1;for(var s=0,o=r.length;s<o;s++)if(e.constructor===r[s].src||e instanceof r[s].src){var u=r[s].callback;for(var a=0,o=u.length;a<o;a++)u[a].fn===n&&u[a].obj===e&&u.splice(a,1);i=!0;break}if(!i)throw new Error("The obj type is not support for this event")},qext.event.engine=function(e,t){var n=qext.event.events[e];for(var r=0,i=n.length;r<i;r++)if(t.constructor===n[r].src||t instanceof n[r].src){var s=n[r].callback;for(var o=0,i=s.length;o<i;o++){var u=s[o];t===u.obj&&u.fn.apply(u.obj,[].slice.call(arguments,2))}break}};var qani={};qani.animation=qani.animation=function(e,t){return new qani.Animation(e,t)},qani.animation.status={INITIALED:0,STATED:1,STOPED:2,CONTINUE:3,RESETED:4,FINISH:5,BACK:6},qani.animation.ext={},qani.Animation=function(e,t){this.animer=e,this.duration=t||500,this.animer.changes=[].concat(this.animer.changes),this.isRunning=!1,this.passedTime=0,this.status=qani.animation.status.INITIALED},qext.event.create("onstart",qani.Animation),qext.event.create("onstop",qani.Animation),qext.event.create("oncontinue",qani.Animation),qext.event.create("onfinish",qani.Animation),qext.event.create("onreset",qani.Animation),qext.event.create("onrenderbegin",qani.Animation),qext.event.create("onrenderend",qani.Animation),qani.Animation.tween={even:function(e,t,n,r,i){return e+(t-e)*(n-r)/i},accelerate:function(e,t,n,r,i){var s=(n-r)/i;return e+(t-e)*s*s},strongAccelerate:function(e,t,n,r,i){var s=(n-r)/i;return e+(t-e)*s*s*s*s},decelerate:function(e,t,n,r,i){var s=(n-r)/i;return e-(t-e)*s*(s-2)},strongDecelerate:function(e,t,n,r,i){var s=(n-r)/i;return e-(t-e)*((s-=1)*s*s*s-1)},ac2deCelerate:function(e,t,n,r,i){var s=(n-r)/i;return(s/=.5)<1?e+(t-e)/2*s*s:e-(t-e)/2*(--s*(s-2)-1)},strongAc2deCelerate:function(e,t,n,r,i){var s=(n-r)/i;return(s/=.5)<1?e+(t-e)/2*s*s*s*s:e-(t-e)/2*((s-=2)*s*s*s-2)},back2accelerate:function(e,t,n,r,i){var s=(n-r)/i,r=1.70158;return e+(t-e)*s*s*((r+1)*s-r)},accelerate2back:function(e,t,n,r,i){var s=(n-r)/i,r=1.70158;return e+(t-e)*((s-=1)*s*((r+1)*s+r)+1)},back2back:function(e,t,n,r,i){var s=(n-r)/i,r=1.70158;return(s/=.5)<1?e+(t-e)/2*s*s*(((r*=1.525)+1)*s-r):e+(t-e)/2*((s-=2)*s*(((r*=1.525)+1)*s+r)+2)},bounce2Accelerate:function(e,t,n,r,i){var s=1-(n-r)/i;return s<1/2.75?e+(t-e)*(1-7.5625*s*s):s<2/2.75?e+(t-e)*(.25-7.5625*(s-=1.5/2.75)*s):s<2.5/2.75?e+(t-e)*(.0625-7.5625*(s-=2.25/2.75)*s):e+(t-e)*(.015625-7.5625*(s-=2.625/2.75)*s)},accelerate2bounce:function(e,t,n,r,i){var s=(n-r)/i;return s<1/2.75?e+(t-e)*7.5625*s*s:s<2/2.75?e+(t-e)*(7.5625*(s-=1.5/2.75)*s+.75):s<2.5/2.75?e+(t-e)*(7.5625*(s-=2.25/2.75)*s+.9375):e+(t-e)*(7.5625*(s-=2.625/2.75)*s+.984375)},bounce2bounce:function(e,t,n,r,i){var s=(n-r)/i,o=qani.Animation.tween;return s<.5?(o.bounce2Accelerate(e,t,n,r,i/2)+e)*.5:o.accelerate2bounce(e,t,2*n-i,2*r,i)*.5}},qani.Animation.numeric={pxParse:function(e){return parseInt(e)},pxMulParse:function(e){var t=typeof e=="string"?e.split(" "):e,n=t.length;for(var r=0;r<n;r++)t[r]=parseInt(t[r])||0;switch(n){case 4:break;case 3:t[3]=t[2];break;case 2:t[3]=t[0],t[2]=t[1];break;case 1:t[3]=t[2]=t[1]=t[0]}return t}},qani.Animation.denumeric={pxParse:function(e){if(typeof e!="number")throw new Error("Type of argument must be a number");return e+"px"},pxMulParse:function(e){if(!typeof e==="array")throw new Error("Type of argument must be a array");var t=[];for(var n=0,r=e.length;n<r;n++)t.push(e[n]+"px");return t.join(" ")}},qani.Animation.getData={getStyle:function(e,t){return T.dom.getStyle(e,t)}},qani.Animation.setData={setStyle:function(e,t,n){return T.dom.setStyle(e,t,n)}},qani.Animation.defaultVal={numeric:qani.Animation.numeric.pxParse,denumeric:qani.Animation.denumeric.pxParse,getData:qani.Animation.getData.getStyle,setData:qani.Animation.setData.setStyle,tween:qani.Animation.tween.even},qani.Animation.typeInfos=function(){var e=["width","height","top","right","bottom","left","margin-top","margin-right","margin-bottom","margin-left","padding-top","padding-right","padding-bottom","padding-left","font-size"],t={},n=qani.Animation.defaultVal;for(var r=0,i=e.length;r<i;r++)t[e[r]]={},t[e[r]].numeric=qani.Animation.defaultVal.numeric,t[e[r]].denumeric=qani.Animation.defaultVal.denumeric,t[e[r]].getData=qani.Animation.defaultVal.getData,t[e[r]].setData=qani.Animation.defaultVal.setData,t[e[r]].tween=qani.Animation.defaultVal.tween;return t}(),qani.Animation.typeInfos.margin=qani.Animation.typeInfos.padding=qani.Animation.typeInfos["border-width"]={numeric:qani.Animation.numeric.pxMulParse,denumeric:qani.Animation.denumeric.pxMulParse,getData:qani.Animation.defaultVal.getData,setData:qani.Animation.defaultVal.setData,tween:qani.Animation.defaultVal.tween},qani.Animation.animeList=[[]],qani.Animation.run=function(e){function n(e){var i=e&&e>1e6?e:(new Date).getTime();if(t.length===0){t.isRunning=!1;return}for(var s=0,o=t.length;s<o;s++){var u=t[s];if(u.isRunning){qext.event.engine("onrenderbegin",u);var a=u.status!==qani.animation.status.CONTINUE?u.begin:u.continueTime,f=u.duration,l=u.animer,c=l.changes,h=l.obj,p=qani.Animation.typeInfos;if(i>f+a){for(var d=0,v=c.length;d<v;d++){var m=c[d],g=m.type,y=p[g];y.setData(h,m.type,y.denumeric(m.to))}u.status=qani.animation.status.FINISH,qext.event.engine("onrenderend",u),qext.event.engine("onfinish",u),u.isRunning=!1,t.isFullFiled=!1,t.splice(s--,1),o=t.length;continue}for(var d=0,b=c.length;d<b;d++){var m=c[d],g=m.type,y=p[g],w=m.to,E=m.now,S=[];if(w.length){E=[].concat(E);for(var x=0,T=w.length;x<T;x++)changeNowN=E[x]||0,S[x]=m.tween(E[x],w[x],i,a,f)}else S=m.tween(E,m.to,i,a,f);E=S,y.setData(h,g,y.denumeric(S))}u.paintTime=i,qext.event.engine("onrenderend",u)}}t.isRunning||(t.isRunning=!0),r(n)}var t=e,r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){setTimeout(e,20)},i=window.mozAnimationStartTime||(new Date).getTime();r(n)},qani.Animation.prototype.start=function(){if(this.isRunning)return;qext.event.engine("onstart",this),this.isRunning=!0,this.status=qani.animation.status.STATED;var e=this.animer,t=qani.Animation.typeInfos,n=e.changes,r=e.obj;for(var i=0,s=n.length;i<s;i++){var o=n[i];if(!(o.type in t)||t[o.type].testBrowser&&!t[o.type].testBrowser()){n.splice(i--,1),s=n.length;continue}if(typeof o.to=="undefined")throw new Error('The animation "to" can not be undefined!');var u=o.type,a=t[u],f=a.numeric,l=a.denumeric,c=a.getData,h=a.setData;if(typeof o.from!="undefined")o.from=f(o.from);else{var p=f(c(r,u));o.from=p||0}o.now=o.from,o.to=f(o.to);if(o.tween){if(typeof o.tween=="string"){if(!qani.Animation.tween[o.tween])throw new Error(o.tween+" is undefined");o.tween=qani.Animation.tween[o.tween]}}else o.tween=qani.Animation.defaultVal.tween}this.paintTime=this.begin=(new Date).getTime();var d=!0,v=10,m=qani.Animation.animeList;for(var i=0,s=m.length;i<s;i++){var g=m[i],y=0;for(var b=0,w=g.length;b<w;b++)y+=g[b].animer.changes.length;if(!g.isFullFiled){g.push(this),g.isRunning||qani.Animation.run(g),y>v&&(g.isFullFiled=!0),d=!1;break}}if(d){var g=[this];m.push(g),qani.Animation.run(g)}},qani.Animation.prototype.stop=function(){if(!this.isRunning)return;var e=qani.Animation.animeList,t=this;for(var n=0,r=e.length;n<r;n++){var i=e[n];for(var s=0,o=i.length;s<o;s++)if(t===i[s]){t.passedTime=t.status!==qani.animation.status.CONTINUE?t.paintTime-t.begin:t.paintTime-t.continueTime,t.status=qani.animation.status.STOPED,t.isRunning=!1,qext.event.engine("onstop",t);return}}},qani.Animation.prototype.keepon=function(){if(this.isRunning||!this.status===qani.animation.status.STOPED)return;var e=this,t=qani.Animation.animeList;e.continueTime=(new Date).getTime()-e.passedTime;for(var n=0,r=t.length;n<r;n++){var i=t[n];for(var s=0,o=i.length;s<o;s++)if(e===i[s]){e.status=qani.animation.status.CONTINUE,e.isRunning=!0,qext.event.engine("oncontinue",e);return}}},qani.Animation.prototype.reset=function(){var e=qani.Animation.animeList,t=qani.Animation.typeInfos,n=this;for(var r=0,i=e.length;r<i;r++){var s=e[r];for(var o=0,u=s.length;o<u;o++){var a=s[o];if(n===a){for(var f=0,l=n.animer.changes.length;f<l;f++){var c=n.animer.changes[f],h=t[c.type];if(!h)throw new Error("Not support this type");h.setData(a.animer.obj,c.type,h.denumeric(c.from)),c.now=c.from}s.splice(o--,1),n.isRunning=!1,qext.event.engine("onreset",n);return}}}},qani.Animation.prototype.destroy=function(){var e=qani.Animation.animeList,t=this;for(var n=0,r=e.length;n<r;n++){var i=e[n];for(var s=0,o=i.length;s<o;s++){var u=i[s];t===u&&i.splice(s--,1)}}},qani.Animation.prototype.on=function(e,t){var n=this;switch(e){case"start":qext.event.addEventListener(n,"onstart",t);break;case"stop":qext.event.addEventListener(n,"onstop",t);break;case"continue":qext.event.addEventListener(n,"oncontinue",t);break;case"finish":qext.event.addEventListener(n,"onfinish",t);break;case"reset":qext.event.addEventListener(n,"onreset",t);break;case"renderbegin":qext.event.addEventListener(n,"onrenderbegin",t);break;case"renderend":qext.event.addEventListener(n,"onrenderend",t)}},qani.Animation.create=function(e,t){var e=[].concat(e),n=qani.Animation.typeInfos;for(var r=0,i=e.length;r<i;r++){if(e[r]in n)throw new Error("This anime has already definde");n[e[r]]={},n[e[r]].testBrowser=t.testBrowser||function(){return!0},n[e[r]].numeric=t.numeric||qani.Animation.defaultVal.numeric,n[e[r]].denumeric=t.denumeric||qani.Animation.defaultVal.denumeric,n[e[r]].getData=t.getData||qani.Animation.defaultVal.getData,n[e[r]].setData=t.setData||qani.Animation.defaultVal.setData,n[e[r]].tween=t.tween||qani.Animation.defaultVal.tween}},qani.animate=qani.animate=function(e,t,n,r){if(arguments.length<2)throw new Error("Animate need 2 arguments!");if(arguments.length===2||arguments.length===3&&typeof arguments[2]=="number"){var r=n||500;if(t.type&&t.to){var i=qani.animation({obj:e,changes:t},r);return i.start(),i}var s=t,o=[];for(var u in s){var a=/(.+)\$tween *: *(\S+)/.exec(s[u]),f={type:u};a?(f.to=a[1],f.tween=a[2]):f.to=s[u],o.push(f)}var i=qani.animation({obj:e,changes:o},r);return i.start(),i}var r=r||500,l=t,s=n,o=[];for(var u in s){var c;for(var h in l)u===h&&(c=l[h]);var f={type:u};typeof c!="undefined"&&(f.from=c);var a=/(.+)\$tween: *(\S+)/.exec(s[u]);a?(f.to=a[1],f.tween=a[2]):f.to=s[u],o.push(f)}var i=qani.animation({obj:e,changes:o},r);return i.start(),i},function(e){qani.Animation.create("opacity",{numeric:function(e){return parseFloat(e)},denumeric:function(e){return e},getData:function(e,t){if(typeof document.body.style.opacity!="undefined"){var n=T.dom.getStyle(e,"opacity");return n||1}var r=T.dom.getStyle(e,"filter"),i=/opacity *={1} *(\d+)/.exec(r);return i?i[1]/100:1},setData:function(e,t,n){typeof document.body.style.opacity!="undefined"&&(e.style.opacity=n),e.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity="+parseInt(n*100)+")"}})}(window),function(e){var t={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]},n=[];qani.Animation.create(["background","border","border-color","border-top-color","border-right-color","border-bottom-color","border-left-color","background-color","outline-color","color"],{numeric:function(e){var r,i=[],s="".toLocaleLowerCase.call(e);if(e&&e.constructor==Array&&e.length%3==0)return e;if(r=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e))i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])];else if(r=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(e))i=[parseFloat(r[1])*2.55,parseFloat(r[2])*2.55,parseFloat(r[3])*2.55];else if(r=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e))i=[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)];else if(r=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(e))i=[parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16),parseInt(r[3]+r[3],16)];if(i.length>0){var o=r.index;return n[0]=e.substring(0,o),n[1]=e.substring(o+r[0].length),i}var u=t;for(var a in u)if(s.indexOf(a)!=-1){var o=s.indexOf(a);return n[0]=e.substring(0,o),n[1]=e.substring(o+a.length),u[a]}return[0,0,0]},denumeric:function(e){return n[0]+"rgb("+Math.max(Math.min(parseInt(e[0]),255),0)+", "+Math.max(Math.min(parseInt(e[1]),255),0)+", "+Math.max(Math.min(parseInt(e[2]),255),0)+")"+n[1]}})}(window),function(e){var t=function(){return T.browser.isGecko?function(e,t){var n=e.style.MozTransform,r=/rotate *\( *(\d+) *deg\)/.exec(n);return r?r[1]:0}:T.browser.isWebkit?function(e,t){var n=e.style.webkitTransform,r=/rotate *\( *(\d+) *deg\)/.exec(n);return r?r[1]:0}:T.browser.opera?function(e,t){var n=e.style.OTransform,r=/rotate *\( *(\d+) *deg\)/.exec(n);return r?r[1]:0}:function(e,t){var n=e.style.transform,r=/rotate *\( *(\d+) *deg\)/.exec(n);return r?r[1]:0}}(),n=function(){return T.browser.isGecko?function(e,t,n){e.style.MozTransform=n}:T.browser.isWebkit?function(e,t,n){e.style.webkitTransform=n}:T.browser.opera?function(e,t,n){e.style.OTransform=n}:function(e,t,n){e.style.transform=n}}();qani.Animation.create("rotate",{denumeric:function(e){return"rotate("+e+"deg)"},getData:t,setData:n,testBrowser:function(){var e=document.body.style;return typeof e.MozTransform!="undefined"||typeof e.webkitTransform!="undefined"||typeof e.OTransform!="undefined"||typeof e.transform!="undefined"?!0:!1}})}(window),function(e){qani.Animation.create("scroll",{numeric:function(e){return parseInt
(e)},denumeric:function(e){return e},getData:function(e,t){return e.scrollTop},setData:function(e,t,n){e.scrollTop=n}})}(window),function(){qani.animation.fadeIn=qani.animation.ext.fadeIn=function(e,t,n){var e=qing.dom.g(e),t=t||500;e.style.opacity="0",e.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity:0)",e.style.display=="";var r=qani.animation({obj:e,changes:{type:"opacity",from:0,to:1,tween:n||"even"}},t);return r.start(),r}}(),function(){qani.animation.fadeOut=qani.animation.ext.fadeOut=function(e,t,n){var e=qing.dom.g(e),t=t||500,r=qani.animation({obj:e,changes:{type:"opacity",to:0,tween:n||"even"}},t);return r.start(),r}}(),function(){qani.animation.expand=qani.animation.ext.expand=function(e,t,n){var e=qing.dom.g(e);e.style.visibility="hidden";if(e.style.display="none")e.style.display="";var r=qing.dom.getCurrentStyle(e,"height")||e.offsetHeight,i=parseInt(r)||e.offsetHeight,t=t||500,s=qani.animation({obj:e,changes:{type:"height",from:0,to:i,tween:n||"even"}},t);return e.style.visibility="visible",s.start(),s.on("finish",function(){e.style.height=r}),s}}();