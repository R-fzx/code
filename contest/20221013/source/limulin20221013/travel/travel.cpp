#define B8C /*    	cout<<nx[i]<<' '<<to[i]<<' '<<l[i]<<' '<<r[i]<<'\n';*/
#define B8B if((d[n]-l[i]>ansr-ansl)||(d[n]-l[i]==ansr-ansl&&l[i]<ansl)){
#define B8A head[10005],nx[10005],to[10005],d[10005],l[10005],r[10005];
#define B89 nx[++tot]=head[x],head[x]=tot,l[tot]=L,r[tot]=R,to[tot]=y;
#define B88 nx[++tot]=head[y],head[y]=tot,l[tot]=L,r[tot]=R,to[tot]=x;
#define B87 if(l[i]<=L&&r[i]>=L&&(d[to[i]]<min(d[x],r[i]))){
#define B86 /*		cout<<d[n]<<' '<<ansl<<' '<<ansr<<'\n';*/
#define B85 freopen("travel.out","w",stdout);
#define B84 freopen("travel.in","r",stdin);
#define B83 /*				cout<<114514<<'\n';*/
#define B82 cout<<ansr-ansl+1<<'\n';
#define B81 d[to[i]]=min(d[x],r[i]);
#define B80 memset(d,0,sizeof(d));
#define B7F i=head[x];i;i=nx[i]){
#define B7E i=ansl;i<=ansr;i++){
#define B7D i=1;i<=tot;i+=2){
#define B7C cin>>x>>y>>L>>R;
#define B7B if(f[to[i]]==0){
#define B7A while(q.size()){
#define B79 ansl=1,ansr=-1;
#define B78 while(q.size())
#define B77 q.push(to[i]);
#define B76 i=1;i<=m;i++){
#define B75 d[1]=INT_MAX;
#define B74 cout<<i<<' ';
#define B73 ___0xffff___
#define B72 x=q.front();
#define B71 f[to[i]]=1;
#define B70 spfa(l[i]);
#define B6F ansr=d[n];
#define B6E 0x6348dcc1
#define B6D f[100005];
#define B6C q.push(1);
#define B6B queue<int>
#define B6A 0x63478b05
#define B69 cin>>n>>m;
#define B68 ansl=l[i];
#define B67 namespace
#define B66 spfa(int
#define B65 x,y,L,R;
#define B64 q.pop();
#define B63 f[x]=0;
#define B62 for(int
#define B61 return;
#define B60 printf
#define B5F return
#define B5E tot=0;
#define B5D using
#define B5C 0xc7
#define B5B 0xc8
#define B5A 0xca
#define B59 0xcb
#define B58 0xcc
#define B57 0xce
#define B56 0xcf
#define B55 0xd0
#define B54 0xd1
#define B53 0xd2
#define B52 0xd3
#define B51 0xd4
#define B50 0xd5
#define B4F 0xd7
#define B4E 0xda
#define B4D 0xde
#define B4C 0xdf
#define B4B 0xe7
#define B4A 0xe8
#define B49 0xeb
#define B48 0xf7
#define B47 0xf8
#define B46 0x2f
#define B45 0xfd
#define B44 bool
#define B43 char
#define B42 "%s"
#define B41 else
#define B40 "\n"
#define B3F 0x20
#define B3E 0x23
#define B3D 0x2d
#define B3C 0x2e
#define B3B 0x3a
#define B3A 0x61
#define B39 0x62
#define B38 0x63
#define B37 0x64
#define B36 0x65
#define B35 0x66
#define B34 0x68
#define B33 0x6d
#define B32 main
#define B31 0x6f
#define B30 n,m;
#define B2F 0x70
#define B2E 0x73
#define B2D 0x74
#define B2C 0x78
#define B2B 0xa7
#define B2A 0xa8
#define B29 0xfa
#define B28 0xaa
#define B27 0xb1
#define B26 0xb4
#define B25 0xb5
#define B24 0xb7
#define B23 std;
#define B22 time
#define B21 0xb9
#define B20 0xbc
#define B1F void
#define B1E 0xc1
#define B1D 0xc2
#define B1C 0xc3
#define B1B 0xc6
#define B1A (){
#define B19 L){
#define B18 0xa
#define B17 0x0
#define B16 int
#define B15 d,
#define B14 &&
#define B13 q;
#define B12 0;
#define B11 if
#define B10 (
#define BF d
#define BE =
#define BD e
#define BC >
#define BB [
#define BA ]
#define B9 a
#define B8 0
#define B7 b
#define B6 ;
#define B5 c
#define B4 <
#define B3 ,
#define B2 )
#define B1 {
#define B0 }
#include <time.h>
#include<bits/stdc++.h>
#define B8D B5D B67 B23 B6B B13 B16 B30 B16 B8A B44
#define B8E B6D B1F B66 B19 B78 B64 B6C B80 B75 B7A
#define B8F B16 B72 B64 B63 B62 B7F B87 B81 B83 B7B
#define B90 B77 B71 B0 B0 B0 B0 B61 B0 B16 B73
#define B91 B1A B84 B85 B16 B5E B69 B62 B76 B16 B65
#define B92 B7C B89 B88 B0 B16 B79 B62 B7D B70 B86
#define B93 B8B B6F B68 B0 B8C B0 B82 B62 B7E B74
#define B94 B0 B5F B12 B0 B16 B32 B10 B2 B1 B11
#define B95 B10 B22 B10 B8 B2 BC B6A B14 B22 B10
#define B96 B8 B2 B4 B6E B2 B1 B73 B10 B2 B6
#define B97 B0 B41 B1 B43 B9 BB BA BE B1 B10
#define B98 B43 B2 B3E B3 B10 B43 B2 B3F B3 B10
#define B99 B43 B2 B26 B3 B10 B43 B2 B29 B3 B10
#define B9A B43 B2 B1D B3 B10 B43 B2 B49 B3 B10
#define B9B B43 B2 B5A B3 B10 B43 B2 B27 B3 B10
#define B9C B43 B2 B55 B3 B10 B43 B2 B2B B3 B10
#define B9D B43 B2 B21 B3 B10 B43 B2 B45 B3 B10
#define B9E B43 B2 B1B B3 B10 B43 B2 B4E B3 B10
#define B9F B43 B2 B53 B3 B10 B43 B2 B54 B3 B10
#define BA0 B43 B2 B57 B3 B10 B43 B2 B4D B3 B10
#define BA1 B43 B2 B24 B3 B10 B43 B2 B2A B3 B10
#define BA2 B43 B2 B51 B3 B10 B43 B2 B59 B3 B10
#define BA3 B43 B2 B55 B3 B10 B43 B2 B55 B3 B10
#define BA4 B43 B2 B3F B3 B10 B43 B2 B3E B3 B10
#define BA5 B43 B2 B17 B0 B6 B43 B7 BB BA BE
#define BA6 B1 B10 B43 B2 B3E B3 B10 B43 B2 B3F
#define BA7 B3 B10 B43 B2 B5B B3 B10 B43 B2 B4B
#define BA8 B3 B10 B43 B2 B55 B3 B10 B43 B2 B4A
#define BA9 B3 B10 B43 B2 B20 B3 B10 B43 B2 B58
#define BAA B3 B10 B43 B2 B55 B3 B10 B43 B2 B47
#define BAB B3 B10 B43 B2 B5A B3 B10 B43 B2 B21
#define BAC B3 B10 B43 B2 B52 B3 B10 B43 B2 B1C
#define BAD B3 B10 B43 B2 B5C B3 B10 B43 B2 B49
#define BAE B3 B10 B43 B2 B1E B3 B10 B43 B2 B28
#define BAF B3 B10 B43 B2 B56 B3 B10 B43 B2 B25
#define BB0 B3 B10 B43 B2 B4F B3 B10 B43 B2 B48
#define BB1 B3 B10 B43 B2 B50 B3 B10 B43 B2 B4C
#define BB2 B3 B10 B43 B2 B3F B3 B10 B43 B2 B3E
#define BB3 B3 B10 B43 B2 B17 B0 B6 B43 B5 BB
#define BB4 BA BE B1 B10 B43 B2 B3D B3 B10 B43
#define BB5 B2 B3D B3 B10 B43 B2 B3F B3 B10 B43
#define BB6 B2 B34 B3 B10 B43 B2 B2D B3 B10 B43
#define BB7 B2 B2D B3 B10 B43 B2 B2F B3 B10 B43
#define BB8 B2 B2E B3 B10 B43 B2 B3B B3 B10 B43
#define BB9 B2 B46 B3 B10 B43 B2 B46 B3 B10 B43
#define BBA B2 B38 B3 B10 B43 B2 B31 B3 B10 B43
#define BBB B2 B37 B3 B10 B43 B2 B36 B3 B10 B43
#define BBC B2 B35 B3 B10 B43 B2 B31 B3 B10 B43
#define BBD B2 B2C B3 B10 B43 B2 B3C B3 B10 B43
#define BBE B2 B2D B3 B10 B43 B2 B3A B3 B10 B43
#define BBF B2 B31 B3 B10 B43 B2 B39 B3 B10 B43
#define BC0 B2 B3A B3 B10 B43 B2 B31 B3 B10 B43
#define BC1 B2 B3C B3 B10 B43 B2 B38 B3 B10 B43
#define BC2 B2 B31 B3 B10 B43 B2 B33 B3 B10 B43
#define BC3 B2 B3F B3 B10 B43 B2 B3D B3 B10 B43
#define BC4 B2 B3D B3 B10 B43 B2 B18 B3 B10 B43
#define BC5 B2 B17 B0 B6 B43 BF BB BA BE B42
#define BC6 B6 B43 BD BB BA BE B40 B6 B60 B10
#define BC7 B15 B9 B2 B6 B60 B10 BD B2 B6 B60
#define BC8 B10 B15 B7 B2 B6 B60 B10 BD B2 B6
#define BC9 B60 B10 B15 B5 B2 B6 B0 B5F B12 B0
#define BCA B8D B8E B8F B90 B91 B92 B93 B94 B95 B96
#define BCB B97 B98 B99 B9A B9B B9C B9D B9E B9F BA0
#define BCC BA1 BA2 BA3 BA4 BA5 BA6 BA7 BA8 BA9 BAA
#define BCD BAB BAC BAD BAE BAF BB0 BB1 BB2 BB3 BB4
#define BCE BB5 BB6 BB7 BB8 BB9 BBA BBB BBC BBD BBE
#define BCF BBF BC0 BC1 BC2 BC3 BC4 BC5 BC6 BC7 BC8
#define BD0 BC9 
#define BD1 BCA BCB BCC BCD BCE BCF BD0 
#define BD2(__FOX__) __FOX__
BD2(BD1)
