(()=>{"use strict";var e={496:e=>{e.exports=require("vscode")}},n={};function o(t){var i=n[t];if(void 0!==i)return i.exports;var r=n[t]={exports:{}};return e[t](r,r.exports,o),r.exports}var t={};(()=>{var e=t;Object.defineProperty(e,"__esModule",{value:!0}),e.activate=void 0;const n=o(496);e.activate=function(e){let o=[],t=!1,i=!1,r=null,a=!1,c=n.window.activeTextEditor;const u=n.workspace.getConfiguration("indentRainbow").errorColor||"rgba(128,32,32,0.3)",s=n.window.createTextEditorDecorationType({backgroundColor:u}),d=n.workspace.getConfiguration("indentRainbow").tabmixColor||"",g=""!==d?n.window.createTextEditorDecorationType({backgroundColor:d}):null,l=n.workspace.getConfiguration("indentRainbow").ignoreLinePatterns||[],p=n.workspace.getConfiguration("indentRainbow").colorOnWhiteSpaceOnly||!1;function f(){var e=n.workspace.getConfiguration("indentRainbow").ignoreErrorLanguages||[];a=!1,0!==e.length&&(-1===e.indexOf("*")&&-1===e.indexOf(r)||(a=!0))}function w(){if(c&&r!==c.document.languageId){var e=n.workspace.getConfiguration("indentRainbow").includedLanguages||[],a=n.workspace.getConfiguration("indentRainbow").excludedLanguages||[];r=c.document.languageId,t=!0,0!==e.length&&-1===e.indexOf(r)&&(t=!1),t&&0!==a.length&&-1!==a.indexOf(r)&&(t=!1)}if(i&&!t){var u=[];for(let e of o)c.setDecorations(e,u);i=!1}return f(),t}(n.workspace.getConfiguration("indentRainbow").colors||["rgba(255,255,64,0.07)","rgba(127,255,127,0.07)","rgba(255,127,255,0.07)","rgba(79,236,236,0.07)"]).forEach(((e,t)=>{o[t]=n.window.createTextEditorDecorationType({backgroundColor:e})})),l.forEach(((e,n)=>{if("string"==typeof e){var o=e.match(/^\/(.*?)\/([gim]*)$/);l[n]=o?new RegExp(o[1],o[2]):new RegExp(e)}})),c&&f(),c&&w()&&x(),n.window.onDidChangeActiveTextEditor((e=>{c=e,e&&f(),e&&w()&&x()}),null,e.subscriptions),n.workspace.onDidChangeTextDocument((e=>{c&&f(),c&&e.document===c.document&&w()&&x()}),null,e.subscriptions);var v=null;function x(){v&&clearTimeout(v);var e=n.workspace.getConfiguration("indentRainbow").updateDelay||100;v=setTimeout(b,e)}function b(){if(!c)return;var e=/^[\t ]+/gm,t=c.document.getText(),r=c.options.tabSize,u=4;"auto"!==r&&(u=+r);var d=" ".repeat(u);const f=[];let w=[],v=g?[]:null,x=[];var b,h;o.forEach((()=>{x.push([])})),a||l.forEach((e=>{for(;h=e.exec(t);){const e=c.document.positionAt(h.index),n=c.document.lineAt(e).lineNumber;f.push(n)}}));for(var m=new RegExp("\t","g");b=e.exec(t);){const e=c.document.positionAt(b.index),o=c.document.lineAt(e).lineNumber;let t=a||-1!==f.indexOf(o);var C=b[0],E=b[0].replace(m,d).length;if(t||E%u==0)for(var R=b[0],k=R.length,T=0,D=0;D<k;){y=c.document.positionAt(b.index+D),"\t"===R[D]?D++:D+=u,p&&D>k&&(D=k),_=c.document.positionAt(b.index+D),M={range:new n.Range(y,_),hoverMessage:null};var A=0,O=0;if(!t&&v&&(O=C.split("\t").length-1)&&(A=C.split(" ").length-1),A>0&&O>0)v.push(M);else{let e=T%x.length;x[e].push(M)}T++}else{var y=c.document.positionAt(b.index),_=c.document.positionAt(b.index+b[0].length),M={range:new n.Range(y,_),hoverMessage:null};w.push(M)}}o.forEach(((e,n)=>{c.setDecorations(e,x[n])})),c.setDecorations(s,w),g&&c.setDecorations(g,v),i=!0}}})();var i=exports;for(var r in t)i[r]=t[r];t.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})();